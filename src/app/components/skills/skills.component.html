<div class="section-container">
  <h2 class="section-title">Экскурсионные программы</h2>

  <!-- Контейнер для карточек с горизонтальной прокруткой -->
  <div class="cards-container">
    <!-- Индикаторы прокрутки -->
    <div class="scroll-indicator">
      <span class="dot active"></span>
      <span class="dot"></span>
    </div>

    <!-- Карточки экскурсий -->
    <div class="cards-wrapper">
      <!-- Карточка 1 -->
      <div class="tour-card" (click)="expandCard($event, 0)">
        <div class="card-image">
          <img src="/assets/excursion1.jpeg" alt="Анималистика. И в шутку, и всерьез.">
          <div class="card-badge">Еженедельно</div>
        </div>

        <div class="card-content">
          <h3 class="card-title">Анималистика. И в шутку, и всерьез.</h3>
          <p class="card-subtitle">Авторская экскурсия</p>

          <div class="card-actions">
            <button class="action-button like" (click)="$event.stopPropagation()">
              <i class="material-icons">favorite_border</i>
            </button>
            <button class="action-button details" (click)="expandCard($event, 0)">
              Подробнее
            </button>
            <button class="action-button share" (click)="$event.stopPropagation()">
              <i class="material-icons">share</i>
            </button>
          </div>
        </div>
      </div>

      <!-- Карточка 2 -->
      <div class="tour-card" (click)="expandCard($event, 1)">
        <div class="card-image">
          <img src="/assets/excursion2.jpeg" alt="Бла бла бла">
          <div class="card-badge">Еженедельно</div>
        </div>

        <div class="card-content">
          <h3 class="card-title">Бла бла бла</h3>
          <p class="card-subtitle">Авторская экскурсия</p>

          <div class="card-actions">
            <button class="action-button like" (click)="$event.stopPropagation()">
              <i class="material-icons">favorite_border</i>
            </button>
            <button class="action-button details" (click)="expandCard($event, 1)">
              Подробнее
            </button>
            <button class="action-button share" (click)="$event.stopPropagation()">
              <i class="material-icons">share</i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Шаблон для развернутой карточки (будет клонироваться через JS) -->
<ng-template #expandedCardTemplate>
  <div class="tour-card expanded">
    <div class="card-header">
      <button class="close-button" (click)="closeExpandedCard()">
        <i class="material-icons">arrow_back</i>
      </button>
      <h3 class="card-title">{{selectedTour?.title}}</h3>
      <p class="card-subtitle">{{selectedTour?.subtitle}}</p>
    </div>

    <div class="card-gallery">
      <div class="gallery-slider">
        <img *ngFor="let image of selectedTour?.images"
             [src]="image.src"
             [alt]="image.alt"
             class="gallery-image">
      </div>
      <div class="gallery-dots">
        <span *ngFor="let image of selectedTour?.images; let i = index"
              class="dot"
              [class.active]="i === 0"></span>
      </div>
    </div>

    <div class="card-description">
      <p>{{selectedTour?.description}}</p>
    </div>

    <div class="card-details">
      <div class="detail-item">
        <i class="material-icons">location_on</i>
        <p>{{selectedTour?.location}}</p>
      </div>
      <div class="detail-item">
        <i class="material-icons">schedule</i>
        <p>{{selectedTour?.schedule}}</p>
      </div>
      <div class="detail-item">
        <i class="material-icons">group</i>
        <p>{{selectedTour?.group}}</p>
      </div>
    </div>

    <div class="location-container">
      <div class="museum-photo">
        <img [src]="selectedTour?.museumPhoto" alt="Здание музея" class="location-image">
      </div>
      <div class="map-container">
        <a [href]="selectedTour?.mapLink" target="_blank" class="map-link">
          <img [src]="selectedTour?.mapImage" alt="Карта расположения" class="map-image">
        </a>
        <div class="map-annotation">
          <i class="material-icons">subway</i> {{selectedTour?.metro}}
        </div>
      </div>
    </div>

    <blockquote class="card-quote" *ngIf="selectedTour?.quote">
      "{{selectedTour?.quote}}"
    </blockquote>

    <div class="card-actions expanded">
      <button class="action-button primary">Записаться</button>
      <button class="action-button secondary">Поделиться</button>
    </div>
  </div>
</ng-template>
